<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>List</title>
    <link rel="stylesheet" href="CSS/test.css">
</head>

<body >
  <div> 
    <input type="text" id="city"/>
    <button id="checkWeather" onclick="showWeather()">click</button>
<div id="result"></div>
  </div>
  <script type="text/javascript">
     
function showWeather(){

 var regExp=[],a;
    var question=document.getElementById("city").value;
    var city=["karnataka","kerala","tamilnadu"];
    for(var i=0;i<city.length;i++){
      regExp[i]="/"+city[i]+"/g";
    }
    for(i=0;i<city.length;i++){
      if((question.search(city[i]))>=0 && (question.search("weather"))>=0){
         var url="http://api.openweathermap.org/data/2.5/weather?q="+city[i]				+",India&appid=2d03d9442e8165ef1f8092817b356f62";
          var getReq = new XMLHttpRequest();
           getReq.open("GET", url, true);
           getReq.send();
           console.log(getReq);
           getReq.onload = function() {
           console.log("inside" + getReq);
           if (getReq.readyState === getReq.DONE) {
           if (getReq.status === 200) {
            //console.log(getReq.response);
           a=JSON.parse(getReq.response);
console.log(a.main.temp-273);
var resultVar=document.getElementById("result");
resultVar.innerHTML=a.main.temp-273;

           }
           }
         
         }
    }
    }
}

  </script>
 
</body>

</html>
